<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>N Body--rk4</title>
  <style>
      body {
        font-family: Monospace;
        background-color: #000;
        margin: 0px;
        overflow: hidden;
      }
  </style>
  <!-- jquery src--!>
  <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
  <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
  <script src="three.min.js"></script>
  <script src="script.js"></script>
</head>
<body>
<script type="text/javascript">
    new MultiBody({
        bodies: [
          {
            position: new Vec(400, 200, 0),
            velocity: new Vec(0, 0, 0),
            mass: 1.0,
            color: 0xffaa00,
            lineColor: 0xffaa00,
            radius: 10.0
          },
          {
            position: new Vec(140, 120, 0),
            velocity: new Vec(0, 1, 0),
            mass: 0.0001,
            color: 0xff9a98,
            lineColor: 0xd74440,
            radius: 5.0
          },
          {
            position: new Vec(0,140, 120),
            velocity: new Vec(0, 0, 1),
            mass: 0.0001,
            color: 0x6db3b7,
            lineColor: 0x287e82,
            radius: 5.0
          },
          {
            position: new Vec(0,-140, -120),
            velocity: new Vec(0, 0.5, 0.5),
            mass: 0.0001,
            color: 0x90d886,
            lineColor: 0x33a93a,
            radius: 5.0
          }

        ],
        step: function(previous, bodies, i){
            var body = bodies[i];
            for(var j = 0; j < bodies.length; j++) {
              if(j != i) {
                var acc = acceleration(previous[j].position, body.position, previous[j].mass);
                body.velocity.iadd(acc);
                body.position.iadd(body.velocity);
              }
            }
        }
    });
</script>
</body>
</html>
